<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>精简桌面</title>
<link  rel="stylesheet" type="text/css" href="res/test.css" />
<link href="res/jPaginator.css" rel="stylesheet" type="text/css" />
<link href="res/mac-dock.css" rel="stylesheet" type="text/css" />
<link type="text/css" rel="stylesheet" href="res/jquery-ui.min.css" />  
    <!--[if lt IE 9]><script type="text/javascript" src="/js/css3-mediaqueries.js"></script><![endif]-->
    <script type="text/javascript" src="res/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="res/jPaginator-min.js"></script>
	<script type="text/javascript" src="res/test.js"></script>
    <script type="text/javascript" src="res/interface.js"></script>
    <script type="text/javascript" src="res/jquery-ui.min.js"></script>  

</head>
<style type="text/css">

#tabs{
	position:relative; margin:auto; left:auto;
}
img {
	border: none;
}

#btmdock{ position:relative; top:30px; height:80px; width:100%;}
</style>
<script>
var detailDialog,detailDialog2, etti = 'c020', pos = '003005002';
var  num_perpage = 12;
var tasklist = getList(etti,pos);//getTaskList('127.0.0.1','fasp_yz','postgres','postgres');
</script>
<script language="javascript">
var todoNum = 0, allNum = 15, done = 0;
var txt = "国库处";//cfunc_get("select getbydate('c016','2015-01-01','');");
var fish = function(){ 
			
			$('#dock').Fisheye(
				{
					maxWidth: 50,
					items: 'a',
					itemsText: 'span',
					container: '.dock-container',
					itemWidth: 40,
					proximity: 90,
					halign : 'center'
				}
			)
	}
$(document).ready(function(){
 fish();
 //明细对话框
var dlgOpts= {
			position:{my:'center',at:'center'},
			height:'400',
			width:'700',
			dialogClass:'detailWindow'
};
var dlgOpts2= {
			position:{my:'center',at:'center'},
			height:'400',
			width:'700',
			dialogClass:'detailWindow2'
};		
detailDialog = $('.detailWindow').dialog(dlgOpts);
detailDialog.dialog('close');
detailDialog2 = $('.detailWindow2').dialog(dlgOpts2);
detailDialog2.dialog('close');

		
 allNum = tasklist.length;
 var ct = 0;
 if ( allNum < num_perpage)
 {
	ct = allNum;	 
}else ct = num_perpage;
 for ( var i = 0 ; i < ct; ++i)
 {   //$('.debug').debug(i);
	 addTaskObj(tasklist[i]);
	 //$('.debug').debug(i);
 }
 
if ( allNum > num_perpage )
{
		$("#tabs").pages(Math.ceil(allNum/num_perpage),1,clickpage);
}


$("a.dock-item").click(function(e) {
        var id = $(this).attr("id");
		Qt.showWindow(id);
    });	
$('#headall').click(function(e) {
    $('.content').css('display','block');
	$('.content-done').css('display','none');
	$('.content-todo').css('display','none');
	if ( allNum > num_perpage )
	{
		$("#tabs").pages(Math.ceil(allNum/num_perpage),1,clickpage);
	}
});	
	
$('#headtodo').click(function(e) {
    $('.content').css('display','none');
	$('.content-done').css('display','none');
	$('.content-todo').css('display','block');
	if ( todoNum < num_perpage )
	{
		$("#tabs").pages2(0,0);
	}
});	

$('#headdone').click(function(e) {
    $('.content').css('display','none');
	$('.content-done').css('display','block');
	$('.content-todo').css('display','none');

});

$("div.nav").mouseover(function(){
  $(this).css('backgroundColor','#666666');
});

$("div.nav").mouseout(function(){
 $(this).css('backgroundColor','#2F2F2F');
});

$("#closebtn").mouseover(function(e) {
	//$(".debug").debug( $(this).attr("src"));
    $(this).attr("src","img/btn_close_highlight.png");
});

$("#closebtn").mouseout(function(e) {
    $(this).attr("src","img/btn_close_normal.png");
});
$("#closebtn").click(function(e) {
    Qt.close();
});
$(".tips>img").mouseover(function(e) {
     $(this).attr("src","img/btn_close_highlight.png");
});

$(".tips>img").mouseout(function(e) {
     $(this).attr("src","img/btn_close_normal.png");
});

	
});
	

/*
$('div#return>img').mouseover(function(e) {
    $(this).attr('src','img/btn_close_highlight.png');
});


$('div#return>img').mouseout(function(e) {
    $(this).attr('src','img/btn_close_normal.png');
});
*/

function  clickpage( a,page )
{
	
	var count = allNum - (page-1)*num_perpage;
	if (count > num_perpage)
	{
		count = num_perpage;	
	}
	var pre = (page-1) * num_perpage;
	$('.content').html('');
	 for ( var i = 0 ; i < count; ++i)
	 {
	 	addTaskObj(tasklist[pre + i]);
 	 }
	 
}

</script>
<body>
<img src="img/back.jpg" id="back">
<div id="head-nav" align="center">
<span class="logo">财政平台安全桌面</span>
<a  id="appmana" class="nav" title="申请任务">应用管理</a>
<a  id="headall" class="nav" title="申请任务">申请任务</a>
<a  id="headtodo" class="nav"  title="待办任务">待办任务</a>
<a  id="headdone" class="nav" title="追踪任务">追踪任务</a>
<a  id="headall" class="nav" title="申请任务">历史查询</a>
<a  id="history" class="nav2"><img src="img/btn_close_normal.png" id="closebtn"  /></a>
</div>
<!--申请任务-->
<div class="content">

</div>
<!--待办任务-->
<div class="content-todo">

</div>
<!--追踪任务-->
<div class="content-done">

</div>
<div id="tabs">
<!--左侧导航按钮-->
<nav id="left_max" class="jPaginatorMax"></nav><nav id="left_over" class="jPaginatorOver"></nav>
<!--页码显示-->
<div class="paginator_p_wrap" style=" width:40%">
<div class="paginator_p_bloc" style="left:-44px;">
</div>
</div>
<nav id="right_over" class="jPaginatorOver"></nav><nav id="right_max" class="jPaginatorMax"></nav>
<!--div class='paginator_slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all'>
<a class='ui-slider-handle ui-state-default ui-corner-all' href='#' ></a>
</div-->
</div>
<div id="btmdock">
<div class="dock" id="dock">
  <div class="dock-container">
	  <a class="dock-item" href="#" id="softcenter"><span>软件中心</span><img src="images/home.png" alt="软件中心" /></a> 
	  <a class="dock-item" href="#" id="switch"><span>切换桌面</span><img src="images/email.png" alt="切换桌面" /></a> 
	  <a class="dock-item" href="#" id="nofity"><span>桌面通知</span><img src="images/portfolio.png" alt="桌面通知" /></a> 
	  <a class="dock-item" href="#" id="tools"><span>常用工具</span><img src="images/music.png" alt="常用工具" /></a> 
	  <a class="dock-item" href="#" id="apps"><span>业务应用</span><img src="images/video.png" alt="业务应用" /></a> 
  </div> 
</div>
</div>
<div class="debug"></div>
<div class="detailWindow">
<p>
</p>
<div>
<a class="ui-button" href="#">处理</a>
</div>
</div>

<div class="detailWindow2">
<p>
</p>
<div>
<a class="ui-button" href="#">处理</a>
</div>
</div>
<!--提示窗口的弹出位置-->
<div class="tips">
<img src="img/btn_close_normal.png" />
<div class="tips-content">
</div>
<div class="btn" align="center"></div>
<p>
</p>
</div>
</body>
</html>
